<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.adpanshi.cashloan.manage.cl.mapper.BorrowMapper">
  <resultMap id="BaseResultMap" type="com.adpanshi.cashloan.manage.cl.model.Borrow">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="user_id" jdbcType="BIGINT" property="userId" />
    <result column="order_no" jdbcType="VARCHAR" property="orderNo" />
    <result column="amount" jdbcType="DECIMAL" property="amount" />
    <result column="real_amount" jdbcType="DECIMAL" property="realAmount" />
    <result column="fee" jdbcType="DECIMAL" property="fee" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="time_limit" jdbcType="VARCHAR" property="timeLimit" />
    <result column="state" jdbcType="VARCHAR" property="state" />
    <result column="card_id" jdbcType="BIGINT" property="cardId" />
    <result column="service_fee" jdbcType="DECIMAL" property="serviceFee" />
    <result column="info_auth_fee" jdbcType="DECIMAL" property="infoAuthFee" />
    <result column="interest" jdbcType="DECIMAL" property="interest" />
    <result column="client" jdbcType="VARCHAR" property="client" />
    <result column="address" jdbcType="VARCHAR" property="address" />
    <result column="coordinate" jdbcType="VARCHAR" property="coordinate" />
    <result column="remark" jdbcType="VARCHAR" property="remark" />
    <result column="ip" jdbcType="VARCHAR" property="ip" />
    <result column="audit_process" jdbcType="INTEGER" property="auditProcess" />
    <result column="audit_process_time" jdbcType="TIMESTAMP" property="auditProcessTime" />
    <result column="audit_name" jdbcType="VARCHAR" property="auditName" />
    <result column="audit_time" jdbcType="TIMESTAMP" property="auditTime" />
    <result column="borrow_main_id" jdbcType="BIGINT" property="borrowMainId" />
  </resultMap>
  <resultMap id="userBorrowMap"  extends="BaseResultMap" type="com.adpanshi.cashloan.manage.cl.model.expand.BorrowModel">
    <result column="real_name" property="realName" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="repay_amount" property="repayAmount" jdbcType="DECIMAL" />
    <result column="repay_time" property="repayTime" jdbcType="VARCHAR" />
    <result column="black_reason" property="blackReason" jdbcType="VARCHAR" />
    <result column="audit_name" property="auditName" jdbcType="VARCHAR" />
    <result column="register_client" property="registerClient" jdbcType="VARCHAR" />
    <result column="channel_name" property="channelName" jdbcType="VARCHAR" />
    <result column="channel_code" property="channelCode" jdbcType="VARCHAR" />
    <result column="order_view" property="orderView" jdbcType="VARCHAR"/>
    <result column="sys_user_name" property="sysUserName" jdbcType="VARCHAR"/>
    <result column="penalty_day" property="penaltyDay" jdbcType="VARCHAR"/>
    <result column="penalty_amout" property="penaltyAmout" jdbcType="DECIMAL"/>
    <result column="loan_time" property="loanTime" jdbcType="TIMESTAMP"/>
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, user_id, order_no, amount, real_amount, fee, create_time, time_limit, state, 
    card_id, service_fee, info_auth_fee, interest, client, address, coordinate, remark, 
    ip, audit_process, audit_process_time, audit_name, audit_time, borrow_main_id
  </sql>
  <select id="selectByExample" parameterType="com.adpanshi.cashloan.manage.cl.model.BorrowExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from `cl_borrow`
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from `cl_borrow`
    where id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from `cl_borrow`
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <delete id="deleteByExample" parameterType="com.adpanshi.cashloan.manage.cl.model.BorrowExample">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from `cl_borrow`
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.adpanshi.cashloan.manage.cl.model.Borrow">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into `cl_borrow` (id, user_id, order_no, 
      amount, real_amount, fee, 
      create_time, time_limit, state, 
      card_id, service_fee, info_auth_fee, 
      interest, client, address, 
      coordinate, remark, ip, 
      audit_process, audit_process_time, audit_name, 
      audit_time, borrow_main_id)
    values (#{id,jdbcType=BIGINT}, #{userId,jdbcType=BIGINT}, #{orderNo,jdbcType=VARCHAR}, 
      #{amount,jdbcType=DECIMAL}, #{realAmount,jdbcType=DECIMAL}, #{fee,jdbcType=DECIMAL}, 
      #{createTime,jdbcType=TIMESTAMP}, #{timeLimit,jdbcType=VARCHAR}, #{state,jdbcType=VARCHAR}, 
      #{cardId,jdbcType=BIGINT}, #{serviceFee,jdbcType=DECIMAL}, #{infoAuthFee,jdbcType=DECIMAL}, 
      #{interest,jdbcType=DECIMAL}, #{client,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, 
      #{coordinate,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, #{ip,jdbcType=VARCHAR}, 
      #{auditProcess,jdbcType=INTEGER}, #{auditProcessTime,jdbcType=TIMESTAMP}, #{auditName,jdbcType=VARCHAR}, 
      #{auditTime,jdbcType=TIMESTAMP}, #{borrowMainId,jdbcType=BIGINT})
  </insert>
  <insert id="insertSelective" parameterType="com.adpanshi.cashloan.manage.cl.model.Borrow">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into `cl_borrow`
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="orderNo != null">
        order_no,
      </if>
      <if test="amount != null">
        amount,
      </if>
      <if test="realAmount != null">
        real_amount,
      </if>
      <if test="fee != null">
        fee,
      </if>
      <if test="createTime != null">
        create_time,
      </if>
      <if test="timeLimit != null">
        time_limit,
      </if>
      <if test="state != null">
        state,
      </if>
      <if test="cardId != null">
        card_id,
      </if>
      <if test="serviceFee != null">
        service_fee,
      </if>
      <if test="infoAuthFee != null">
        info_auth_fee,
      </if>
      <if test="interest != null">
        interest,
      </if>
      <if test="client != null">
        client,
      </if>
      <if test="address != null">
        address,
      </if>
      <if test="coordinate != null">
        coordinate,
      </if>
      <if test="remark != null">
        remark,
      </if>
      <if test="ip != null">
        ip,
      </if>
      <if test="auditProcess != null">
        audit_process,
      </if>
      <if test="auditProcessTime != null">
        audit_process_time,
      </if>
      <if test="auditName != null">
        audit_name,
      </if>
      <if test="auditTime != null">
        audit_time,
      </if>
      <if test="borrowMainId != null">
        borrow_main_id,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=BIGINT},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=BIGINT},
      </if>
      <if test="orderNo != null">
        #{orderNo,jdbcType=VARCHAR},
      </if>
      <if test="amount != null">
        #{amount,jdbcType=DECIMAL},
      </if>
      <if test="realAmount != null">
        #{realAmount,jdbcType=DECIMAL},
      </if>
      <if test="fee != null">
        #{fee,jdbcType=DECIMAL},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="timeLimit != null">
        #{timeLimit,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        #{state,jdbcType=VARCHAR},
      </if>
      <if test="cardId != null">
        #{cardId,jdbcType=BIGINT},
      </if>
      <if test="serviceFee != null">
        #{serviceFee,jdbcType=DECIMAL},
      </if>
      <if test="infoAuthFee != null">
        #{infoAuthFee,jdbcType=DECIMAL},
      </if>
      <if test="interest != null">
        #{interest,jdbcType=DECIMAL},
      </if>
      <if test="client != null">
        #{client,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="coordinate != null">
        #{coordinate,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="ip != null">
        #{ip,jdbcType=VARCHAR},
      </if>
      <if test="auditProcess != null">
        #{auditProcess,jdbcType=INTEGER},
      </if>
      <if test="auditProcessTime != null">
        #{auditProcessTime,jdbcType=TIMESTAMP},
      </if>
      <if test="auditName != null">
        #{auditName,jdbcType=VARCHAR},
      </if>
      <if test="auditTime != null">
        #{auditTime,jdbcType=TIMESTAMP},
      </if>
      <if test="borrowMainId != null">
        #{borrowMainId,jdbcType=BIGINT},
      </if>
    </trim>
  </insert>
  <insert id="saveAll" parameterType="com.adpanshi.cashloan.manage.cl.model.Borrow" useGeneratedKeys="true"
          keyProperty="id">
    insert into
    cl_borrow(user_id,order_no,amount,real_amount,fee,create_time,time_limit,state,card_id,service_fee,info_auth_fee,interest,client,address,coordinate,remark,ip,borrow_main_id) values
    <foreach collection="list" item="item" separator=",">
      (#{item.userId,jdbcType=BIGINT},
      #{item.orderNo,jdbcType=VARCHAR},
      #{item.amount,jdbcType=DECIMAL},
      #{item.realAmount,jdbcType=DECIMAL},
      #{item.fee,jdbcType=DECIMAL},
      #{item.createTime,jdbcType=TIMESTAMP},
      #{item.timeLimit,jdbcType=VARCHAR},
      #{item.state,jdbcType=VARCHAR},
      #{item.cardId,jdbcType=BIGINT},
      #{item.serviceFee,jdbcType=DECIMAL},
      #{item.infoAuthFee,jdbcType=DECIMAL},
      #{item.interest,jdbcType=DECIMAL},
      #{item.client,jdbcType=VARCHAR},
      #{item.address,jdbcType=VARCHAR},
      #{item.coordinate,jdbcType=VARCHAR},
      #{item.remark,jdbcType=VARCHAR},
      #{item.ip,jdbcType=VARCHAR},
      #{item.borrowMainId,jdbcType=BIGINT})
    </foreach>
  </insert>
    <select id="countByExample" parameterType="com.adpanshi.cashloan.manage.cl.model.BorrowExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select count(*) from `cl_borrow`
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <!-- 用户借款sql查询条件公共引用 -->
  <sql id="searchModelBy">
    <trim prefix="where" prefixOverrides="and|or">
      <if test="userId !='' and userId !=null">
        and u.user_id = #{userId,jdbcType=BIGINT}
      </if>
      <if test="realName !='' and realName !=null">
        and u.real_name like  concat("%",#{realName,jdbcType=VARCHAR},"%")
      </if>
      <if test="phone !='' and phone !=null">
        and u.phone like  concat("%",#{phone,jdbcType=VARCHAR},"%")
      </if>
      <if test="orderNo !='' and orderNo !=null">
        and b.order_no like  concat("%",#{orderNo,jdbcType=VARCHAR},"%")
      </if>
      <if test="state != null and state != '' ">
        and b.state = #{state,jdbcType=VARCHAR}
      </if>
      <if test="blackState != null and blackState != '' ">
        and u.state = #{blackState,jdbcType=VARCHAR}
      </if>
      <if test="stateList !=null">
        and b.state  in
        <foreach item="item" index="index" collection="stateList" open="(" separator="," close=")">
          #{item}
        </foreach>
      </if>
      <if test="remark != null and remark != ''">
        and b.remark like concat("%",#{remark,jdbcType=VARCHAR},"%")
      </if>
      <if test="startOrderAuditTime !=null and startOrderAuditTime !=''" >
        and b.audit_time &gt;= #{startOrderAuditTime,jdbcType=TIMESTAMP}
      </if>
      <if test="endOrderAuditTime !=null and endOrderAuditTime !=''">
        and b.audit_time &lt;= #{endOrderAuditTime,jdbcType=TIMESTAMP}
      </if>
      <!-- 订单生成时间(开始时间-结束时间) -->
      <if test="startCreateTime !=null and startCreateTime !=''" >
        and DATE(b.create_time) &gt;= #{startCreateTime,jdbcType=DATE}
      </if>
      <if test="endCreateTime !=null and endCreateTime !=''">
        and DATE(b.create_time) &lt;= #{endCreateTime,jdbcType=DATE}
      </if>
    </trim>
  </sql>
  <select id="listBorrowModel" resultMap="userBorrowMap"	parameterType="java.util.HashMap">
    select
    u.real_name,u.phone,b.id,b.user_id,b.order_no,b.amount,b.real_amount,b.fee,b.create_time,b.time_limit,b.state,b.borrow_main_id,
    l.amount+IFNULL(r.penalty_amout,0)  as repay_amount,l.repay_time,
    l.amount+IFNULL(l.penalty_amout,0) as real_repayment_amout
    from cl_borrow b
    left join cl_user_base_info u on u.user_id=b.user_id
    left join cl_borrow_repay_log l on l.borrow_id=b.id
    left join cl_borrow_repay r on r.borrow_id = b.id
    <include refid="searchModelBy" />
    ORDER BY b.create_time DESC
    <if test="totalCount !='' and totalCount !=null">
      limit #{totalCount,jdbcType = BIGINT}
    </if>
  </select>

  <sql id="searchBy">
    <trim prefix="where" prefixOverrides="and|or">
      <if test="id !='' and id !=null">
        id  = #{id,jdbcType=BIGINT}
      </if>
      <if test="userId !='' and userId !=null">
        and user_id = #{userId,jdbcType=BIGINT}
      </if>
      <if test="orderNo !='' and orderNo !=null">
        and order_no = #{orderNo,jdbcType=VARCHAR}
      </if>
      <if test="amount !='' and amount !=null">
        and amount = #{amount,jdbcType=DECIMAL}
      </if>
      <if test="realAmount !='' and realAmount !=null">
        and real_amount = #{realAmount,jdbcType=DECIMAL}
      </if>
      <if test="fee !='' and fee !=null">
        and fee = #{fee,jdbcType=DECIMAL}
      </if>
      <if test="createTime !=null">
        and create_time = #{createTime,jdbcType=TIMESTAMP}
      </if>
      <if test="timeLimit !='' and timeLimit !=null">
        and time_limit = #{timeLimit,jdbcType=VARCHAR}
      </if>
      <if test="state !='' and state !=null">
        and state = #{state,jdbcType=VARCHAR}
      </if>
      <if test="cardId !='' and cardId !=null">
        and card_id = #{cardId,jdbcType=BIGINT}
      </if>
      <if test="serviceFee !='' and serviceFee !=null">
        and service_fee = #{serviceFee,jdbcType=DECIMAL}
      </if>
      <if test="infoAuthFee !='' and infoAuthFee !=null">
        and info_auth_fee = #{infoAuthFee,jdbcType=DECIMAL}
      </if>
      <if test="interest !='' and interest !=null">
        and interest = #{interest,jdbcType=DECIMAL}
      </if>
      <if test="client !='' and client !=null">
        and client = #{client,jdbcType=VARCHAR}
      </if>
      <if test="address !='' and address !=null">
        and address = #{address,jdbcType=VARCHAR}
      </if>
      <if test="coordinate !='' and coordinate !=null">
        and coordinate = #{coordinate,jdbcType=VARCHAR}
      </if>
      <if test="remark !=null and remark != ''">
        and remark = #{remark,jdbcType=VARCHAR}
      </if>
      <if test="ip !=null and ip != ''">
        and ip = #{ip,jdbcType=VARCHAR}
      </if>
      <if test="borrowMainId !='' and borrowMainId !=null">
        and borrow_main_id = #{borrowMainId,jdbcType=BIGINT}
      </if>
    </trim>
  </sql>

  <select id="listSelective" resultMap="BaseResultMap" parameterType="java.util.HashMap">
    select
    <include refid="Base_Column_List" />
    from cl_borrow
    <include refid="searchBy"/>
  </select>
  <select id="getModelByBorrowId" resultMap="userBorrowMap" parameterType="java.lang.Long">
    select cb.id,  cb.order_no, cb.amount, cb.real_amount, cb.fee, cbm.create_time, cb.time_limit, cb.state,
    cb.card_id, cb.service_fee, cb.info_auth_fee, cb.interest, cb.client, cb.address, cb.coordinate, cb.remark,
    cb.ip, cb.audit_process, cb.audit_process_time, cb.audit_name, cb.audit_time,cubi.phone,cubi.real_name,
    cbm.loan_time,cbr.penalty_day,cbr.penalty_amout,cbrl.amount as realAmount,cbrl.repay_time from cl_borrow  cb
    left join cl_borrow_main cbm on cb.borrow_main_id = cbm.id
    left join cl_user_base_info cubi on cbm.user_id = cubi.user_id
    left join cl_borrow_repay cbr on cbr.borrow_id = cb.id
    left join cl_borrow_repay_log cbrl on cbrl.borrow_id = cb.id
    where cb.id = #{borrowId,jdbcType=BIGINT}
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update `cl_borrow`
    <set>
      <if test="record.id != null">
        id = #{record.id,jdbcType=BIGINT},
      </if>
      <if test="record.userId != null">
        user_id = #{record.userId,jdbcType=BIGINT},
      </if>
      <if test="record.orderNo != null">
        order_no = #{record.orderNo,jdbcType=VARCHAR},
      </if>
      <if test="record.amount != null">
        amount = #{record.amount,jdbcType=DECIMAL},
      </if>
      <if test="record.realAmount != null">
        real_amount = #{record.realAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.fee != null">
        fee = #{record.fee,jdbcType=DECIMAL},
      </if>
      <if test="record.createTime != null">
        create_time = #{record.createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.timeLimit != null">
        time_limit = #{record.timeLimit,jdbcType=VARCHAR},
      </if>
      <if test="record.state != null">
        state = #{record.state,jdbcType=VARCHAR},
      </if>
      <if test="record.cardId != null">
        card_id = #{record.cardId,jdbcType=BIGINT},
      </if>
      <if test="record.serviceFee != null">
        service_fee = #{record.serviceFee,jdbcType=DECIMAL},
      </if>
      <if test="record.infoAuthFee != null">
        info_auth_fee = #{record.infoAuthFee,jdbcType=DECIMAL},
      </if>
      <if test="record.interest != null">
        interest = #{record.interest,jdbcType=DECIMAL},
      </if>
      <if test="record.client != null">
        client = #{record.client,jdbcType=VARCHAR},
      </if>
      <if test="record.address != null">
        address = #{record.address,jdbcType=VARCHAR},
      </if>
      <if test="record.coordinate != null">
        coordinate = #{record.coordinate,jdbcType=VARCHAR},
      </if>
      <if test="record.remark != null">
        remark = #{record.remark,jdbcType=VARCHAR},
      </if>
      <if test="record.ip != null">
        ip = #{record.ip,jdbcType=VARCHAR},
      </if>
      <if test="record.auditProcess != null">
        audit_process = #{record.auditProcess,jdbcType=INTEGER},
      </if>
      <if test="record.auditProcessTime != null">
        audit_process_time = #{record.auditProcessTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.auditName != null">
        audit_name = #{record.auditName,jdbcType=VARCHAR},
      </if>
      <if test="record.auditTime != null">
        audit_time = #{record.auditTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.borrowMainId != null">
        borrow_main_id = #{record.borrowMainId,jdbcType=BIGINT},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update `cl_borrow`
    set id = #{record.id,jdbcType=BIGINT},
      user_id = #{record.userId,jdbcType=BIGINT},
      order_no = #{record.orderNo,jdbcType=VARCHAR},
      amount = #{record.amount,jdbcType=DECIMAL},
      real_amount = #{record.realAmount,jdbcType=DECIMAL},
      fee = #{record.fee,jdbcType=DECIMAL},
      create_time = #{record.createTime,jdbcType=TIMESTAMP},
      time_limit = #{record.timeLimit,jdbcType=VARCHAR},
      state = #{record.state,jdbcType=VARCHAR},
      card_id = #{record.cardId,jdbcType=BIGINT},
      service_fee = #{record.serviceFee,jdbcType=DECIMAL},
      info_auth_fee = #{record.infoAuthFee,jdbcType=DECIMAL},
      interest = #{record.interest,jdbcType=DECIMAL},
      client = #{record.client,jdbcType=VARCHAR},
      address = #{record.address,jdbcType=VARCHAR},
      coordinate = #{record.coordinate,jdbcType=VARCHAR},
      remark = #{record.remark,jdbcType=VARCHAR},
      ip = #{record.ip,jdbcType=VARCHAR},
      audit_process = #{record.auditProcess,jdbcType=INTEGER},
      audit_process_time = #{record.auditProcessTime,jdbcType=TIMESTAMP},
      audit_name = #{record.auditName,jdbcType=VARCHAR},
      audit_time = #{record.auditTime,jdbcType=TIMESTAMP},
      borrow_main_id = #{record.borrowMainId,jdbcType=BIGINT}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.adpanshi.cashloan.manage.cl.model.Borrow">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update `cl_borrow`
    <set>
      <if test="userId != null">
        user_id = #{userId,jdbcType=BIGINT},
      </if>
      <if test="orderNo != null">
        order_no = #{orderNo,jdbcType=VARCHAR},
      </if>
      <if test="amount != null">
        amount = #{amount,jdbcType=DECIMAL},
      </if>
      <if test="realAmount != null">
        real_amount = #{realAmount,jdbcType=DECIMAL},
      </if>
      <if test="fee != null">
        fee = #{fee,jdbcType=DECIMAL},
      </if>
      <if test="createTime != null">
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="timeLimit != null">
        time_limit = #{timeLimit,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        state = #{state,jdbcType=VARCHAR},
      </if>
      <if test="cardId != null">
        card_id = #{cardId,jdbcType=BIGINT},
      </if>
      <if test="serviceFee != null">
        service_fee = #{serviceFee,jdbcType=DECIMAL},
      </if>
      <if test="infoAuthFee != null">
        info_auth_fee = #{infoAuthFee,jdbcType=DECIMAL},
      </if>
      <if test="interest != null">
        interest = #{interest,jdbcType=DECIMAL},
      </if>
      <if test="client != null">
        client = #{client,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        address = #{address,jdbcType=VARCHAR},
      </if>
      <if test="coordinate != null">
        coordinate = #{coordinate,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        remark = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="ip != null">
        ip = #{ip,jdbcType=VARCHAR},
      </if>
      <if test="auditProcess != null">
        audit_process = #{auditProcess,jdbcType=INTEGER},
      </if>
      <if test="auditProcessTime != null">
        audit_process_time = #{auditProcessTime,jdbcType=TIMESTAMP},
      </if>
      <if test="auditName != null">
        audit_name = #{auditName,jdbcType=VARCHAR},
      </if>
      <if test="auditTime != null">
        audit_time = #{auditTime,jdbcType=TIMESTAMP},
      </if>
      <if test="borrowMainId != null">
        borrow_main_id = #{borrowMainId,jdbcType=BIGINT},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.adpanshi.cashloan.manage.cl.model.Borrow">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update `cl_borrow`
    set user_id = #{userId,jdbcType=BIGINT},
      order_no = #{orderNo,jdbcType=VARCHAR},
      amount = #{amount,jdbcType=DECIMAL},
      real_amount = #{realAmount,jdbcType=DECIMAL},
      fee = #{fee,jdbcType=DECIMAL},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      time_limit = #{timeLimit,jdbcType=VARCHAR},
      state = #{state,jdbcType=VARCHAR},
      card_id = #{cardId,jdbcType=BIGINT},
      service_fee = #{serviceFee,jdbcType=DECIMAL},
      info_auth_fee = #{infoAuthFee,jdbcType=DECIMAL},
      interest = #{interest,jdbcType=DECIMAL},
      client = #{client,jdbcType=VARCHAR},
      address = #{address,jdbcType=VARCHAR},
      coordinate = #{coordinate,jdbcType=VARCHAR},
      remark = #{remark,jdbcType=VARCHAR},
      ip = #{ip,jdbcType=VARCHAR},
      audit_process = #{auditProcess,jdbcType=INTEGER},
      audit_process_time = #{auditProcessTime,jdbcType=TIMESTAMP},
      audit_name = #{auditName,jdbcType=VARCHAR},
      audit_time = #{auditTime,jdbcType=TIMESTAMP},
      borrow_main_id = #{borrowMainId,jdbcType=BIGINT}
    where id = #{id,jdbcType=BIGINT}
  </update>
</mapper>